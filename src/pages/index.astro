---
import BaseHead from "../components/BaseHead.astro";
import Footer from "../components/Footer.astro";
import Profile from "../components/Profile.astro";
import PostCard from "../components/PostCard.astro";
import ThemeSwitcher from "../components/ThemeSwitcher";
import { SITE_TITLE, SITE_DESCRIPTION } from "../config";

const posts = await Astro.glob("./blog/*.{md,mdx}");
---

<!DOCTYPE html>
<html lang="en-us">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
	</head>
	<body>
		<main
			class="w-full min-h-screen flex flex-col dark:bg-primaryDarkBgColor dark:text-white"
		>
			<div class="flex max-w-screen-md container mx-auto justify-end">
				<div class="flex-auto"></div>
				<ThemeSwitcher client:load />
			</div>
			<Profile />
			<main class="flex-auto py-6">
				<content
					class="container max-w-screen-sm px-4 mx-auto flex flex-col gap-6"
				>
					{posts.map((post) => <PostCard post={post} />)}
				</content>
			</main>
			<Footer />
		</main>
	</body>
</html>
